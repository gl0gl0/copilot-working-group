# Copilot Working Group - Repository Instructions

Howdy, partner! ðŸ¤  Welcome to the Copilot Working Group repository. Saddle up and let me give you the lay of the land.

## What This Repo Does

This here's a hands-on workshop repository for learning and practicing GitHub Copilot. It's built with React, TypeScript, and Viteâ€”a real modern web application setup for folks to get their hands dirty with Copilot Chat in GitHub UI, Copilot in VSCode, and custom agents.

## Tech Stack & Tools

Reckon you should know what we're workin' with:
- **Language**: TypeScript
- **Framework**: React 19 with React Router (TanStack Router)
- **Build Tool**: Vite 7
- **State Management**: TanStack Query (React Query)
- **Testing**: Vitest with Testing Library
- **Linting**: ESLint 9
- **Node Version**: 20.x
- **Package Manager**: npm

## Essential Commands (The Sheriff's Orders)

Before you mosey on into making changes, make sure you've got your dependencies installed, partner:

```bash
npm ci
```

Now here's the commands you'll be reachin' for most often:

### Development Server
```bash
npm run dev
```
Fires up the Vite development server. Your code changes'll hot-reload faster than a tumbleweed in a dust storm.

### Type Checking
```bash
npx tsc -b
```
TypeScript compiler will check your types. Always run this before pushin' your code to avoid any surprises at the saloon.

### Linting
```bash
npm run lint
```
Runs ESLint to check code quality. Keep your code clean as a whistle!

To automatically fix linting issues:
```bash
npm run lint:fix
```

### Testing
```bash
npm test -- --run
```
Runs all tests with Vitest in run mode (non-watch). Always make sure tests pass before submittin' your changes!

For interactive test mode:
```bash
npm test
```

For test UI:
```bash
npm run test:ui
```

For coverage:
```bash
npm run test:coverage
```

### Building
```bash
npm run build
```
This compiles TypeScript AND builds the production bundle. Both steps gotta succeed for a clean build.

### Preview Production Build
```bash
npm run preview
```
Previews the production build locally. Good for checkin' things out before deployin'.

## Project Structure (The Ranch Layout)

Here's where everything's kept in this here codebase:

- **`src/`** - Main application source code
  - **`components/`** - React components (10 subdirectories worth)
  - **`routes/`** - TanStack Router route definitions
  - **`hooks/`** - Custom React hooks
  - **`contexts/`** - React context providers
  - **`services/`** - API services and utilities
  - **`types/`** - TypeScript type definitions
  - **`test/`** - Test setup files
  - **`main.tsx`** - Application entry point
  - **`index.css`** - Global styles
  - **`routeTree.gen.ts`** - Auto-generated router tree (don't edit manually!)

- **Configuration Files (Root)**
  - **`vite.config.ts`** - Vite configuration with React plugin and TanStack Router plugin
  - **`tsconfig.json`** - TypeScript root config (references app and node configs)
  - **`tsconfig.app.json`** - TypeScript config for application code
  - **`tsconfig.node.json`** - TypeScript config for Node.js code (build scripts)
  - **`eslint.config.js`** - ESLint 9 flat config
  - **`package.json`** - Dependencies and scripts

- **`.github/workflows/`** - GitHub Actions workflows
  - **`lint.yml`** - Runs linting and tests on pull requests

## Important Notes for Code Changes

Listen up now, these are important:

1. **Always install dependencies first** with `npm ci` before running any commands. Dependencies ain't cached in this environment.

2. **Type checking happens during build** - The `npm run build` command runs `tsc -b` first, then `vite build`. Both must succeed.

3. **Tests use Vitest with jsdom** - Test setup is in `src/test/setup.ts`. Tests run in a browser-like environment.

4. **Router files are auto-generated** - The `routeTree.gen.ts` file is generated by the TanStack Router plugin. Don't edit it manually.

5. **React Compiler is enabled** - Using `babel-plugin-react-compiler` in the Vite config for optimization.

6. **Workflow checks** - Pull requests run lint and test checks via `.github/workflows/lint.yml`. Make sure both pass!

## Validation Checklist

Before you call it a day and hang up your spurs, make sure you've done these:

âœ… Run `npm ci` to install dependencies
âœ… Run `npm run lint` - no errors
âœ… Run `npx tsc -b` - no type errors  
âœ… Run `npm test -- --run` - all tests pass
âœ… Run `npm run build` - successful build

## Common Patterns & Conventions

- **Component structure**: Components are organized in their own directories under `src/components/`
- **Testing**: Use Testing Library for component tests, following patterns in `src/components/ProductDetail/ProductDetail.test.tsx`
- **Routing**: TanStack Router with file-based routing in `src/routes/`
- **State management**: TanStack Query for server state
- **Styling**: CSS modules or global styles in `index.css`

## Pro Tips

- The dev server is mighty fast with hot module replacement
- ESLint config uses the new flat config format (ESLint 9+)
- Tests can run in watch mode for development
- Coverage reports show which code needs more testing

Now git along, little doggie! You're all set to wrangle some code. Remember to keep your commits clean and your tests green! ðŸ¤ 

Yeehaw!
